<!DOCTYPE html>
<html lang="pt-BR" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/head :: head('Criar Squad')}"></head>
<body class="dashboard-body">
    <link rel="stylesheet" th:href="@{/css/squads.css}">
    <nav th:replace="~{fragments/sidebar :: sidebar}"></nav>
    <div class="main-content">
        <div class="top-bar fixed">
            <h1 class="page-title">
                <i class="bi bi-plus-circle"></i> Criar Nova Squad
            </h1>
            <div th:replace="~{fragments/topbar-user-info :: userInfo}"></div>
        </div>
        <div class="content-wrapper">
            <div th:replace="~{fragments/alerts :: alerts}"></div>
            
            <div class="form-container">
                <div class="form-card">
                    <div class="form-header">
                        <div class="form-icon">
                            <i class="bi bi-people-fill"></i>
                        </div>
                        <h3>Nova Squad</h3>
                        <p>Crie uma nova equipe para gerenciar projetos e tarefas</p>
                    </div>
                    
                    <form th:action="@{/squads/create}" method="post" class="squad-form">
                        
                        <!-- Informações Básicas -->
                        <div class="form-section">
                            <h6 class="section-title">
                                <i class="bi bi-info-circle"></i> Informações Básicas
                            </h6>
                            
                            <div class="form-row">
                                <div class="form-group flex-grow">
                                    <label for="name" class="form-label">Nome da Squad *</label>
                                    <input type="text" class="form-control" id="name" name="name" 
                                           required maxlength="100" placeholder="Ex: Squad Pagamentos">
                                </div>
                                <div class="form-group" style="min-width: 180px;">
                                    <label for="type" class="form-label">Tipo</label>
                                    <select class="form-select" id="type" name="type">
                                        <option th:each="squadType : ${squadTypes}" 
                                                th:value="${squadType}" 
                                                th:text="${squadType.displayName}"
                                                th:selected="${squadType.name() == 'FULLSTACK'}">Tipo</option>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="description" class="form-label">Descrição *</label>
                                <textarea class="form-control" id="description" name="description" 
                                          rows="3" required maxlength="500"
                                          placeholder="Descreva brevemente a squad e suas responsabilidades"></textarea>
                                <small class="form-hint">Máximo 500 caracteres</small>
                            </div>
                        </div>

                        <!-- Detalhes Técnicos -->
                        <div class="form-section">
                            <h6 class="section-title">
                                <i class="bi bi-code-slash"></i> Detalhes Técnicos <span class="optional">(Opcional)</span>
                            </h6>

                            <div class="form-group">
                                <label for="techStack" class="form-label">Tech Stack</label>
                                <input type="text" class="form-control" id="techStack" name="techStack" 
                                       maxlength="500" placeholder="Ex: Java, Spring Boot, PostgreSQL, React">
                                <small class="form-hint">Tecnologias utilizadas (separadas por vírgula)</small>
                            </div>

                            <div class="form-row">
                                <div class="form-group flex-grow">
                                    <label for="businessArea" class="form-label">Área de Negócio</label>
                                    <input type="text" class="form-control" id="businessArea" name="businessArea" 
                                           maxlength="200" placeholder="Ex: Pagamentos, E-commerce, CRM">
                                </div>
                                <div class="form-group" style="min-width: 180px;">
                                    <label for="maxMembers" class="form-label">Máx. Membros</label>
                                    <input type="number" class="form-control" id="maxMembers" name="maxMembers" 
                                           min="2" max="50" placeholder="Ilimitado">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="goal" class="form-label">Meta / Objetivo</label>
                                <textarea class="form-control" id="goal" name="goal" 
                                          rows="2" maxlength="1000"
                                          placeholder="Qual é o objetivo principal desta squad?"></textarea>
                            </div>
                        </div>

                        <!-- Botões -->
                        <div class="form-actions">
                            <a th:href="@{/squads}" class="squad-btn squad-btn-secondary">
                                <i class="bi bi-arrow-left"></i> Cancelar
                            </a>
                            <button type="submit" class="btn-create">
                                <i class="bi bi-check-lg"></i> Criar Squad
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Info Card -->
                <div class="info-card">
                    <div class="info-icon">
                        <i class="bi bi-lightbulb-fill"></i>
                    </div>
                    <div class="info-content">
                        <h6>Dica</h6>
                        <p>Ao criar a squad, você automaticamente se torna o Lead e primeiro membro.
                           Depois, você poderá convidar outros usuários para participar.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script th:src="@{/js/sidebar.js}"></script>
</body>
</html>
