<div class="dashboard-panel timers-panel" th:fragment="activeTasksPanel">
  <div class="panel-header warning">
    <h5>
      <i class="bi bi-stopwatch"></i> Tasks em Execução
    </h5>
    <span class="panel-badge" th:if="${!#lists.isEmpty(dashboard.activeTimerTasks)}" 
          th:text="${#lists.size(dashboard.activeTimerTasks)}">0</span>
  </div>
  <div class="panel-body">
    <div th:if="${#lists.isEmpty(dashboard.activeTimerTasks)}" class="empty-state-mini">
      <i class="bi bi-pause-circle"></i>
      <p>Nenhuma task em execução no momento</p>
    </div>
    <div th:unless="${#lists.isEmpty(dashboard.activeTimerTasks)}" class="timer-list">
      <div th:each="task : ${dashboard.activeTimerTasks}" class="timer-item">
        <div class="timer-info">
          <strong th:text="${task.title}">Título da Task</strong>
          <small th:if="${task.assignedUser}">
            <i class="bi bi-person"></i> <span th:text="${task.assignedUser.fullName}">Usuário</span>
          </small>
        </div>
        <div class="timer-display">
          <span class="active-timer timer-badge" 
                th:data-started="${task.mainStartedAt}"
                th:data-elapsed="${task.mainElapsedSeconds ?: 0}">
            <i class="bi bi-stopwatch"></i>
            <span class="timer-value">00:00:00</span>
          </span>
          <small>Est: <span th:text="${task.executionTimeMinutes}">30</span> min</small>
        </div>
      </div>
    </div>
  </div>
</div>
